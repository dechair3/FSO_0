{"ast":null,"code":"var _jsxFileName = \"C:\\\\Stuff\\\\Epic Programming\\\\FullStackOpen-Submissions\\\\part2\\\\Phonebook\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Phonebook from './components/Phonebook.js';\nimport Filter from './components/Filter.js';\nimport SubmitField from './components/SubmitField.js';\nimport personServices from './services/personServices.js';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setNewFilter] = useState('');\n  const [shown, setShown] = useState([]);\n  const [notification, setNotification] = useState(null);\n\n  const addToBook = event => {\n    event.preventDefault();\n    const names = persons.map(person => person.name);\n    const id = names.findIndex(name => name === newName) + 1;\n\n    if (id !== 0) {\n      if (window.confirm(`${newName} is already in the phonebook. Would you like to update their info?`)) {\n        const newPerson = {\n          name: newName,\n          number: newNumber\n        };\n        personServices.update(id, newPerson).then(returnedPerson => {\n          const personCopy = persons.map(person => person.id === id ? returnedPerson : person);\n          setNotification(`Updated '${newName}' `);\n          setPersons(personCopy);\n          setNewName('');\n          setNewNumber('');\n          setNewFilter('');\n          setShown(personCopy);\n          console.log(personCopy);\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        });\n      } else {\n        setNewName('');\n        setNewNumber('');\n        setNewFilter('');\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personServices.create(newPerson).then(returnedPerson => {\n        const personCopy = persons.concat(returnedPerson);\n        setNotification(`Updated '${newName}' `);\n        setPersons(personCopy);\n        setNewName('');\n        setNewNumber('');\n        setNewFilter('');\n        setShown(personCopy);\n        console.log(personCopy);\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const nameChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const numberChange = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const filterChange = event => {\n    const substring = event.target.value;\n    console.log(substring);\n    setNewFilter(substring);\n    const shownCopy = substring === '' ? persons : persons.filter(person => person.name.toLowerCase().includes(substring));\n    setShown(shownCopy);\n  };\n\n  const onDelete = id => {\n    console.log('help');\n\n    if (window.confirm('Would you like to delete this entry?')) {\n      personServices.remove(id);\n      const personCopy = persons.filter(person => person.id !== id);\n      setPersons(personCopy);\n      setNewName('');\n      setNewNumber('');\n      setNewFilter('');\n      setShown(personCopy);\n    } else {\n      setNewName('');\n      setNewNumber('');\n      setNewFilter('');\n    }\n  };\n\n  useEffect(() => {\n    personServices.getAll().then(response => {\n      console.log('promise fulfilled');\n      setShown(response);\n      setPersons(response);\n    });\n  }, []);\n\n  const Notification = _ref => {\n    let {\n      message\n    } = _ref;\n\n    if (message === null) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      message: notification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      value: filter,\n      onChange: filterChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"add a number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addToBook,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"name:  \", /*#__PURE__*/_jsxDEV(SubmitField, {\n          value: newName,\n          onChange: nameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"number: \", /*#__PURE__*/_jsxDEV(SubmitField, {\n          value: newNumber,\n          onChange: numberChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Phonebook, {\n        shown: shown,\n        onDelete: onDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"n+o4TI1de8/IanuTAWh1befFjZ4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","axios","Phonebook","Filter","SubmitField","personServices","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setNewFilter","shown","setShown","notification","setNotification","addToBook","event","preventDefault","names","map","person","name","id","findIndex","window","confirm","newPerson","number","update","then","returnedPerson","personCopy","console","log","setTimeout","create","concat","nameChange","target","value","numberChange","filterChange","substring","shownCopy","toLowerCase","includes","onDelete","remove","getAll","response","Notification","message"],"sources":["C:/Stuff/Epic Programming/FullStackOpen-Submissions/part2/Phonebook/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Phonebook from './components/Phonebook.js'\nimport Filter from './components/Filter.js'\nimport SubmitField from './components/SubmitField.js'\nimport personServices from './services/personServices.js'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setNewFilter] = useState('')\n  const [shown, setShown] = useState([])\n  const [notification, setNotification] = useState(null)\n\n  const addToBook = (event) => {\n    event.preventDefault()\n    const names = persons.map(person => person.name)\n    const id = names.findIndex(name => name === newName) + 1\n    if(id !== 0){\n      if(window.confirm(`${newName} is already in the phonebook. Would you like to update their info?`)){\n        const newPerson = {\n          name: newName,\n          number: newNumber,\n        }\n        personServices.update(id,newPerson).then(returnedPerson => {\n          const personCopy = persons.map(person => person.id === id ? returnedPerson : person)\n          setNotification(\n            `Updated '${newName}' `\n          )\n          setPersons(personCopy)\n          setNewName('')\n          setNewNumber('')\n          setNewFilter('')\n          setShown(personCopy)\n          console.log(personCopy)\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n      }\n      else{\n        setNewName('')\n        setNewNumber('')\n        setNewFilter('')\n      }\n    }\n    else{\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personServices\n        .create(newPerson)\n        .then(returnedPerson => {\n          const personCopy = persons.concat(returnedPerson)\n          setNotification(\n            `Updated '${newName}' `\n          )\n          setPersons(personCopy)\n          setNewName('')\n          setNewNumber('')\n          setNewFilter('')\n          setShown(personCopy)\n          console.log(personCopy)\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n        })\n    }\n  }\n  \n  const nameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const numberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const filterChange = (event) => {\n    const substring = event.target.value\n    console.log(substring)\n    setNewFilter(substring)\n    const shownCopy = (substring === '') ? persons : persons.filter(person => person.name.toLowerCase().includes(substring))\n    setShown(shownCopy)\n  }\n  \n  const onDelete = (id) => {\n    console.log('help')\n    if(window.confirm('Would you like to delete this entry?')){\n      personServices.remove(id)\n      const personCopy = (persons.filter(person => person.id !== id))\n      setPersons(personCopy)\n      setNewName('')\n      setNewNumber('')\n      setNewFilter('')\n      setShown(personCopy)\n    }\n    else{\n      setNewName('')\n      setNewNumber('')\n      setNewFilter('')\n    }\n  }\n\n  useEffect(() => {\n    personServices.getAll()\n      .then(response => {\n        console.log('promise fulfilled')\n        setShown(response)\n        setPersons(response)\n      })\n  }, [])\n  \n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='notification'>\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter value={filter} onChange={filterChange} />\n      <h2>add a number</h2>\n      <form onSubmit={addToBook}>\n        <div>\n          name:  <SubmitField value={newName} onChange={nameChange} />\n        </div>\n        <div>\n          number: <SubmitField value={newNumber} onChange={numberChange} />\n        </div>\n        <div>\n          <button  type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <div>\n        <Phonebook shown={shown} onDelete={onDelete} />\n      </div>\n    </div>\n  )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module"}