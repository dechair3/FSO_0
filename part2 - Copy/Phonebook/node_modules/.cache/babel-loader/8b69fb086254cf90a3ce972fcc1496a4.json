{"ast":null,"code":"var _jsxFileName = \"C:\\\\Stuff\\\\Epic Programming\\\\FullStackOpen-Submissions\\\\Part2\\\\Phonebook\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Phonebook from './components/Phonebook.js';\nimport Filter from './components/Filter.js';\nimport SubmitField from './components/SubmitField.js';\nimport personServices from './services/personServices.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setNewFilter] = useState('');\n  const [shown, setShown] = useState([]);\n\n  const addToBook = event => {\n    event.preventDefault();\n    const names = persons.map(person => person.name);\n    const id = names.findIndex(name => name === newName) + 1;\n\n    if (id !== 0) {\n      if (window.confirm(`${newName} is already in the phonebook. Would you like to update their info?`)) {\n        const newPerson = {\n          name: newName,\n          number: newNumber\n        };\n        personServices.update(id, newPerson).then(returnedPerson => {\n          const personCopy = persons.map(person => person.id === id ? returnedPerson : person);\n          setPersons(personCopy);\n          setNewName('');\n          setNewNumber('');\n          setNewFilter('');\n          setShown(personCopy);\n          console.log(personCopy);\n        });\n      } else {\n        setNewName('');\n        setNewNumber('');\n        setNewFilter('');\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personServices.create(newPerson).then(returnedPerson => {\n        const personCopy = persons.concat(returnedPerson);\n        setPersons(personCopy);\n        setNewName('');\n        setNewNumber('');\n        setNewFilter('');\n        setShown(personCopy);\n        console.log(persons);\n      });\n    }\n  };\n\n  const nameChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n\n  const numberChange = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n\n  const filterChange = event => {\n    const substring = event.target.value;\n    console.log(substring);\n    setNewFilter(substring);\n    const shownCopy = substring === '' ? persons : persons.filter(person => person.name.toLowerCase().includes(substring));\n    setShown(shownCopy);\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:3001/persons').then(response => {\n      console.log('promise fulfilled');\n      setShown(response.data);\n      setPersons(response.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      value: filter,\n      onChange: filterChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"add a number\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addToBook,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"name:  \", /*#__PURE__*/_jsxDEV(SubmitField, {\n          value: newName,\n          onChange: nameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"number: \", /*#__PURE__*/_jsxDEV(SubmitField, {\n          value: newNumber,\n          onChange: numberChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Phonebook, {\n        shown: shown\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"b/Xw8ablwSGy/+lVQjgTCngQOPA=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useState","useEffect","axios","Phonebook","Filter","SubmitField","personServices","App","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setNewFilter","shown","setShown","addToBook","event","preventDefault","names","map","person","name","id","findIndex","window","confirm","newPerson","number","update","then","returnedPerson","personCopy","console","log","create","concat","nameChange","target","value","numberChange","filterChange","substring","shownCopy","toLowerCase","includes","get","response","data"],"sources":["C:/Stuff/Epic Programming/FullStackOpen-Submissions/Part2/Phonebook/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Phonebook from './components/Phonebook.js'\nimport Filter from './components/Filter.js'\nimport SubmitField from './components/SubmitField.js'\nimport personServices from './services/personServices.js'\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setNewFilter] = useState('')\n  const [shown, setShown] = useState([])\n\n  const addToBook = (event) => {\n    event.preventDefault()\n    const names = persons.map(person => person.name)\n    const id = names.findIndex(name => name === newName) + 1\n    if(id !== 0){\n      if(window.confirm(`${newName} is already in the phonebook. Would you like to update their info?`)){\n        const newPerson = {\n          name: newName,\n          number: newNumber,\n        }\n        personServices.update(id,newPerson).then(returnedPerson => {\n          const personCopy = persons.map(person => person.id === id ? returnedPerson : person)\n          setPersons(personCopy)\n          setNewName('')\n          setNewNumber('')\n          setNewFilter('')\n          setShown(personCopy)\n          console.log(personCopy)\n        })\n      }\n      else{\n        setNewName('')\n        setNewNumber('')\n        setNewFilter('')\n      }\n    }\n    else{\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      }\n\n    personServices\n      .create(newPerson)\n      .then(returnedPerson => {\n        const personCopy = persons.concat(returnedPerson)\n        setPersons(personCopy)\n        setNewName('')\n        setNewNumber('')\n        setNewFilter('')\n        setShown(personCopy)\n        console.log(persons)\n      })\n    }\n  }\n  \n  const nameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const numberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const filterChange = (event) => {\n    const substring = event.target.value\n    console.log(substring)\n    setNewFilter(substring)\n    const shownCopy = (substring === '') ? persons : persons.filter(person => person.name.toLowerCase().includes(substring))\n    setShown(shownCopy)\n  }\n  \n\n\n  useEffect(() => {\n    axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        console.log('promise fulfilled')\n        setShown(response.data)\n        setPersons(response.data)\n      })\n  }, [])\n \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={filter} onChange={filterChange} />\n      <h2>add a number</h2>\n      <form onSubmit={addToBook}>\n        <div>\n          name:  <SubmitField value={newName} onChange={nameChange} />\n        </div>\n        <div>\n          number: <SubmitField value={newNumber} onChange={numberChange} />\n        </div>\n        <div>\n          <button  type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <div>\n        <Phonebook shown={shown} />\n      </div>\n    </div>\n  )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module"}